"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[457],{4457:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r,o,a,i,s,c,u=t(9439),d=t(2791),l=t(168),p=t(5867),f=(p.ZP.div(r||(r=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),p.ZP.form(o||(o=(0,l.Z)(["\n  overflow: hidden;\n  align-items: center;\n  padding: 40px 30px 30px 30px;\n  border-radius: 10px;\n  width: 400px;\n  box-shadow: 5px 10px 10px rgba(rgba(2, 128, 144, 1), 0.2);\n"])))),x=p.ZP.input(a||(a=(0,l.Z)(["\n  display: block;\n  border-radius: 5px;\n  font-size: 16px;\n  background: white;\n  width: 100%;\n  border: 0;\n  padding: 10px 10px;\n  margin: 15px -10px;\n"]))),h=p.ZP.button(i||(i=(0,l.Z)(["\n  cursor: pointer;\n  color: #fff;\n  font-size: 16px;\n  /* text-transform: uppercase; */\n  width: 100px;\n  border: 0;\n  padding: 10px 0;\n  margin-top: 10px;\n  margin-left: -5px;\n  border-radius: 5px;\n  background-color: #3f51b5;\n  transition: background-color 300ms;\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"]))),m=t(9434),b=t(3634),g=t(1686),w=t.n(g),y=t(6916),v=function(n){return n.contacts},j=function(n){return n.contacts.contactsArr},Z=function(n){return n.filter},k=(0,y.P1)([j,Z],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),C=t(184),P=function(){var n=(0,d.useState)(""),e=(0,u.Z)(n,2),t=e[0],r=e[1],o=(0,d.useState)(""),a=(0,u.Z)(o,2),i=a[0],s=a[1],c=(0,m.I0)(),l=(0,m.v9)(j),p=function(n){var e=n.currentTarget,t=e.name,o=e.value;switch(t){case"name":r(o);break;case"number":s(o)}};return(0,C.jsxs)(f,{onSubmit:function(n){n.preventDefault(),l.some((function(n){return n.name.toLowerCase()===t.toLowerCase()}))?w().Notify.failure("Name ".concat([t]," is already exist")):l.some((function(n){return n.number===i}))?w().Notify.failure("Number ".concat(i," is already exist")):(c((0,b.uK)({name:t,number:i})).unwrap().than((function(){w().Notify.success("Contact added")})).catch((function(){w().Notify.failure("Something went wrong :(")})),r(""),s(""),n.target.reset())},children:[(0,C.jsx)("label",{children:(0,C.jsx)(x,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Enter name",onChange:p,value:t})}),(0,C.jsx)("label",{children:(0,C.jsx)(x,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter phone number",onChange:p,value:i})}),(0,C.jsx)(h,{type:"submit",children:"Add contact"})]})},z=t(4808),A=p.ZP.input(s||(s=(0,l.Z)(["\n  display: block;\n  border-radius: 5px;\n  font-size: 12px;\n  background: white;\n  width: 100%;\n  border: 0;\n  padding: 5px 5px;\n  margin-top: 5px;\n"]))),N=p.ZP.label(c||(c=(0,l.Z)(["\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 700;\n  color: #444444;\n  margin-bottom: 8px;\n"]))),_=function(){var n=(0,m.I0)(),e=(0,m.v9)(Z);return(0,C.jsxs)(N,{children:["Find contacts by name",(0,C.jsx)(A,{type:"text",placeholder:"Enter name of contact",value:e,onChange:function(e){n((0,z.Tv)(e.target.value))}})]})},L=function(){var n=(0,m.I0)(),e=(0,m.v9)(k);return e.map((function(e){var t=e.id,r=e.name,o=e.number;return(0,C.jsxs)("li",{children:[r,": ",o,(0,C.jsx)("button",{type:"button",onClick:function(){return function(e,t){n((0,b.GK)(e)),w().Notify.success("Contact ".concat(t," deleted successfully"))}(t,r)},children:"Delete"})]},t)}))},S=function(){return(0,C.jsx)("ul",{style:{listStyle:"none"},children:(0,C.jsx)(L,{})})},E=t(5570),I=function(){var n=(0,m.I0)(),e=(0,m.v9)(v),t=e.contactsArr,r=e.isLoading,o=e.error;return(0,d.useEffect)((function(){n((0,b.yF)())}),[n]),(0,C.jsxs)(E.W2,{children:[(0,C.jsx)(E.xv,{children:"Phonebook"}),(0,C.jsx)(P,{}),(0,C.jsxs)(E.W2,{children:[r&&!o&&(0,C.jsx)("b",{children:"Loading..."}),o&&(0,C.jsx)("p",{children:"Oops, something went wrong"}),t.length>0&&(0,C.jsxs)(E.W2,{children:[(0,C.jsx)(E.Ov,{children:"Contacts"}),(0,C.jsx)(_,{})]}),t.length>0&&(0,C.jsx)(S,{})]})]})}}}]);
//# sourceMappingURL=457.5bcab541.chunk.js.map